<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">

  <!-- Place favicon.ico in the root directory -->
  <link rel="icon" href="favicon.ico">
  <link rel="stylesheet" href="css/bulma.css">


  <meta name="theme-color" content="#fafafa">

  <script src="js/jquery-3.5.1.min.js"></script>
  <script>
    $(function() {
      const urlParams = new URLSearchParams(window.location.search);
      const txturl = urlParams.get('txturl');
      if (txturl !== "") {
        fetch(txturl, {mode: 'cors'})
          .then(response => response.text())
          .then((txtdata) => {
          $("textarea#titxt").val(txtdata);
        });
      }

    });
  </script>
  <script src="webprog.js"></script>
  <script>
    let configsubject;
    let controller;
    let view;

    function init() {
      configsubject = new ConfigSubject();
      controller = new Controller(configsubject);
      view = new View(controller, "btnprog", "titxt", "logtxt");

    }

    window.onload = init;
  </script>

</head>

<body>
  <section class="section">
    <div class="container pb-1">
      <h1 class="title">MSP430 Web Programmer</h1>
      <h2 class="subtitle">webprog.js</h2>
      <textarea class="textarea" id="titxt">
  </textarea>
    </div>
    <div class="container pb-1">
      <button id="btnprog">Program</button>
    </div>
    <div class="container pb-1">
      <textarea class="textarea" id="logtxt">
      </textarea>
    </div>

  </section>

</body>

</html>
